{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\marek\\\\Desktop\\\\Opiskelu\\\\MatkakertomusClientServer\\\\Client\\\\src\\\\pages\\\\LisaaTarinaSivu.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport LisaaKuva from '../components/LisaaTarinaSivu/LisaaKuva';\nimport DateTimespanPicker from '../components/LisaaTarinaSivu/DateInput/DateTimespanPicker';\nimport PageInputsContainer from '../components/LisaaTarinaSivu/PageInputsContainer';\nimport { setDate } from '../components/LisaaTarinaSivu/DateInput/Utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst LisaaTarinaSivu = () => {\n  _s();\n\n  const [imgArr, setImgArr] = useState([]);\n  const [imgUrls, setImgUrls] = useState([]);\n  const [tulopaiva, setTulopaiva] = useState(setDate());\n  const [lahtopaiva, setLahtopaiva] = useState(setDate());\n  const [otsikko, setOtsikko] = useState('');\n  const [matkakohde, setMatkakohde] = useState('');\n  const [tarina, setTarina] = useState(''); //TODO:\n  //MAKSIMI BYTE MÄÄRÄ KUVILLE! Liian isot kuvat lagaa\n  //Maksimi määrä kuvia? 6/12\n  //kalenteri ei tarvitse välttämättä sulkeutua kun on valittu lähtöpäivä\n  //imgUrls state voidaan myös todennäiköisesti hoitaa itse LisaaKuva componentissa\n\n  const onDateChange = (date, mode) => {\n    const day = date.getDate();\n    const month = date.getMonth();\n    const year = date.getFullYear();\n    const newDate = new Date(year, month, day);\n    if (mode === 'endDate') return setLahtopaiva(newDate);\n    if (mode === 'startDate') setTulopaiva(newDate);\n    if (newDate.getTime() > lahtopaiva.getTime()) setLahtopaiva(newDate);\n  };\n\n  useEffect(() => {\n    if (imgArr.length < 1) return;\n    const newImageURLs = [];\n    imgArr.forEach(image => newImageURLs.push(URL.createObjectURL(image)));\n    setImgUrls(newImageURLs);\n  }, [imgArr]);\n\n  const onImgChange = e => {\n    setImgArr(curr => [...curr, ...e.target.files]);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault(); //logiikka tähän tulee vasta kun backend saadaan toimimaan\n\n    console.log('submit');\n  };\n\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"lisaa-kuva-container\",\n      children: [/*#__PURE__*/_jsxDEV(LisaaKuva, {\n        imgUrls: imgUrls,\n        onImgChange: onImgChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DateTimespanPicker, {\n        onDateChange: onDateChange,\n        startDate: tulopaiva,\n        endDate: lahtopaiva\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-inputs-container\",\n      children: /*#__PURE__*/_jsxDEV(PageInputsContainer, {\n        otsikko: otsikko,\n        setOtsikko: setOtsikko,\n        setTarina: setTarina,\n        tarina: tarina,\n        matkakohde: matkakohde,\n        setMatkakohde: setMatkakohde\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n\n_s(LisaaTarinaSivu, \"bD5t9ORUj5YOI/c22Z171ToFMJk=\");\n\n_c = LisaaTarinaSivu;\nconst Wrapper = styled.form`\n  max-width: 1440px;\n  margin: 50px auto;\n  display: flex;\n  justify-content: center;\n  /* align-items: center; */\n  flex-wrap: wrap;\n\n  .lisaa-kuva-container {\n    width: 40%;\n    min-width: 250px;\n  }\n  .page-inputs-container {\n    width: 60%;\n    height: fit-content;\n  }\n  @media only screen and (max-width: 875px) {\n    .lisaa-kuva-container {\n      width: 90%;\n      min-height: fit-content;\n    }\n    .page-inputs-container {\n      width: 90%;\n      min-height: fit-content;\n    }\n  }\n`;\n_c2 = Wrapper;\nexport default LisaaTarinaSivu;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"LisaaTarinaSivu\");\n$RefreshReg$(_c2, \"Wrapper\");","map":{"version":3,"sources":["C:/Users/marek/Desktop/Opiskelu/MatkakertomusClientServer/Client/src/pages/LisaaTarinaSivu.jsx"],"names":["React","useEffect","useState","styled","LisaaKuva","DateTimespanPicker","PageInputsContainer","setDate","LisaaTarinaSivu","imgArr","setImgArr","imgUrls","setImgUrls","tulopaiva","setTulopaiva","lahtopaiva","setLahtopaiva","otsikko","setOtsikko","matkakohde","setMatkakohde","tarina","setTarina","onDateChange","date","mode","day","getDate","month","getMonth","year","getFullYear","newDate","Date","getTime","length","newImageURLs","forEach","image","push","URL","createObjectURL","onImgChange","e","curr","target","files","handleSubmit","preventDefault","console","log","Wrapper","form"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport LisaaKuva from '../components/LisaaTarinaSivu/LisaaKuva';\r\nimport DateTimespanPicker from '../components/LisaaTarinaSivu/DateInput/DateTimespanPicker';\r\nimport PageInputsContainer from '../components/LisaaTarinaSivu/PageInputsContainer';\r\nimport { setDate } from '../components/LisaaTarinaSivu/DateInput/Utils';\r\n\r\nconst LisaaTarinaSivu = () => {\r\n  const [imgArr, setImgArr] = useState([]);\r\n  const [imgUrls, setImgUrls] = useState([]);\r\n  const [tulopaiva, setTulopaiva] = useState(setDate());\r\n  const [lahtopaiva, setLahtopaiva] = useState(setDate());\r\n  const [otsikko, setOtsikko] = useState('');\r\n  const [matkakohde, setMatkakohde] = useState('');\r\n  const [tarina, setTarina] = useState('');\r\n\r\n  //TODO:\r\n  //MAKSIMI BYTE MÄÄRÄ KUVILLE! Liian isot kuvat lagaa\r\n  //Maksimi määrä kuvia? 6/12\r\n  //kalenteri ei tarvitse välttämättä sulkeutua kun on valittu lähtöpäivä\r\n  //imgUrls state voidaan myös todennäiköisesti hoitaa itse LisaaKuva componentissa\r\n\r\n  const onDateChange = (date, mode) => {\r\n    const day = date.getDate();\r\n    const month = date.getMonth();\r\n    const year = date.getFullYear();\r\n    const newDate = new Date(year, month, day);\r\n    if (mode === 'endDate') return setLahtopaiva(newDate);\r\n    if (mode === 'startDate') setTulopaiva(newDate);\r\n\r\n    if (newDate.getTime() > lahtopaiva.getTime()) setLahtopaiva(newDate);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (imgArr.length < 1) return;\r\n    const newImageURLs = [];\r\n    imgArr.forEach((image) => newImageURLs.push(URL.createObjectURL(image)));\r\n    setImgUrls(newImageURLs);\r\n  }, [imgArr]);\r\n\r\n  const onImgChange = (e) => {\r\n    setImgArr((curr) => [...curr, ...e.target.files]);\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    //logiikka tähän tulee vasta kun backend saadaan toimimaan\r\n    console.log('submit');\r\n  };\r\n\r\n  return (\r\n    <Wrapper onSubmit={handleSubmit}>\r\n      <div className=\"lisaa-kuva-container\">\r\n        <LisaaKuva imgUrls={imgUrls} onImgChange={onImgChange} />\r\n        <DateTimespanPicker\r\n          onDateChange={onDateChange}\r\n          startDate={tulopaiva}\r\n          endDate={lahtopaiva}\r\n        />\r\n      </div>\r\n      <div className=\"page-inputs-container\">\r\n        <PageInputsContainer\r\n          otsikko={otsikko}\r\n          setOtsikko={setOtsikko}\r\n          setTarina={setTarina}\r\n          tarina={tarina}\r\n          matkakohde={matkakohde}\r\n          setMatkakohde={setMatkakohde}\r\n        />\r\n      </div>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.form`\r\n  max-width: 1440px;\r\n  margin: 50px auto;\r\n  display: flex;\r\n  justify-content: center;\r\n  /* align-items: center; */\r\n  flex-wrap: wrap;\r\n\r\n  .lisaa-kuva-container {\r\n    width: 40%;\r\n    min-width: 250px;\r\n  }\r\n  .page-inputs-container {\r\n    width: 60%;\r\n    height: fit-content;\r\n  }\r\n  @media only screen and (max-width: 875px) {\r\n    .lisaa-kuva-container {\r\n      width: 90%;\r\n      min-height: fit-content;\r\n    }\r\n    .page-inputs-container {\r\n      width: 90%;\r\n      min-height: fit-content;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default LisaaTarinaSivu;\r\n"]},"metadata":{},"sourceType":"module"}